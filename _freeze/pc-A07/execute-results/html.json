{
  "hash": "8ff21a138fa556728aec077d4622fc0f",
  "result": {
    "engine": "knitr",
    "markdown": "# 2A Lab 8 Week 10  {.unnumbered}\n\n\n\n\n\n\n\n\n\n\n**This is the pair coding activity related to @sec-independent.**\n\n\n\n## Task 1: Open the R project for the lab {.unnumbered}\n\n## Task 2: Create a new `.Rmd` file {.unnumbered}\n\n... and name it something useful. If you need help, have a look at @sec-rmd.\n\n## Task 3: Load in the library and read in the data {.unnumbered}\n\nThe data should already be in your project folder. If you want a fresh copy, you can download the data again here: [data_pair_coding](data/data_pair_coding.zip \"download\").\n\nWe are using the packages `tidyverse`, `car`, and `lsr` today, and the data file we need to read in is `dog_data_clean_wide.csv`. I've named my data object `dog_data_wide` to shorten the name but feel free to use whatever object name sounds intuitive to you.\n\nIf you have not worked through chapter 7 yet, you may need to install a few packages first before you can load them into the library, for example, if `car` is missing, run `install.packages(\"car\")` in your **CONSOLE**.\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n## Task 4: Tidy data for a two-sample t-test {.unnumbered}\n\nFor today’s task, we want to analyse how **students’ psychological well-being scores** differed at the **post_intervention** time point. Specifically, we will compare the scores of students who directly interacted with the dogs (Group `direct`)to those who only talked to the dog handlers (Group `control`).\n\n\nTo achieve that, we need to select all relevant columns from `dog_data_wide`, and narrow down the dataframe to only include students assigned either to the `direct` or the `control` groups.\n\n\n* **Step 1**: Select all relevant columns from `dog_data_wide`. For the task at hand, those would be the participant ID `RID`, `GroupAssignment`, and `Flourishing_post`. Store this data in an object called `dog_independent`.\n\n* **Step 2**: Narrow down `dog_independent` to only include `GroupAssignment` groups `direct` or the `control`.\n\n* **Step 3**: Convert `GroupAssignment` into a factor.\n\n::: {.callout-note collapse=\"true\" icon=\"false\"}\n\n## Hints\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndog_independent <- ??? %>% \n  # Step 1\n  select(???, ???, ???) %>% \n  # Step 2\n  filter(??? %in% c(???, ???)) %>% \n  # Step 3\n  mutate(GroupAssignment = ???())\n```\n:::\n\n\n\n\n:::\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution for Tasks 3 and 4\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# loading tidyverse and lsr into the library\nlibrary(tidyverse)\nlibrary(car)\nlibrary(lsr)\n\n# reading in `dog_data_clean_wide.csv`\ndog_data_wide <- read_csv(\"dog_data_clean_wide.csv\")\n\n# Task 4: Tidying \ndog_independent <- dog_data_wide %>% \n  # Step 1\n  select(RID, GroupAssignment, Flourishing_post) %>% \n  # Step 2\n  filter(GroupAssignment %in% c(\"Control\", \"Direct\")) %>% \n  # Step 3\n  mutate(GroupAssignment = factor(GroupAssignment))\n```\n:::\n\n\n\n\n\n:::\n\n## Task 5: Compute descriptives {.unnumbered}\n\nCalculate the sample size (n), the mean, and the standard deviation of the psychological well-being score for both groups. Save the output in an object called `dog_independent_descriptives`. The resulting dataframe should look like this:\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> GroupAssignment </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> mean_Flourishing </th>\n   <th style=\"text-align:right;\"> sd_Flourishing </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Control </td>\n   <td style=\"text-align:right;\"> 94 </td>\n   <td style=\"text-align:right;\"> 5.718085 </td>\n   <td style=\"text-align:right;\"> 0.7709738 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Direct </td>\n   <td style=\"text-align:right;\"> 95 </td>\n   <td style=\"text-align:right;\"> 5.776316 </td>\n   <td style=\"text-align:right;\"> 0.8638912 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n\n::: {.callout-note collapse=\"true\" icon=\"false\"}\n\n## Hints\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndog_independent_descriptives <- dog_independent %>% \n  group_by(???) %>% \n  summarise(n = n(),\n            mean_Flourishing = mean(???),\n            sd_Flourishing = sd(???)) %>% \n  ungroup()\n```\n:::\n\n\n\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Task 5: Means & SD\ndog_independent_descriptives <- dog_independent %>% \n  group_by(GroupAssignment) %>% \n  summarise(n = n(), \n            mean_Flourishing = mean(Flourishing_post),\n            sd_Flourishing = sd(Flourishing_post)) %>% \n  ungroup()\n```\n:::\n\n\n\n\n:::\n\n\n\n:::\n\n\n## Task 6: Check assumptions {.unnumbered}\n\n\n#### Assumption 1: Continuous DV {.unnumbered} \n\nIs the dependent variable (DV) continuous? Answer: <div class='webex-radiogroup' id='radio_EWWNHFPPUX'><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_EWWNHFPPUX\" value=\"x\"></input> <span>No. The DV is called Flourishing and it is categorical</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_EWWNHFPPUX\" value=\"x\"></input> <span>No. The DV is called GroupAssignment and it is categorical</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_EWWNHFPPUX\" value=\"answer\"></input> <span>Yes. The DV is called Flourishing and it is continuous</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_EWWNHFPPUX\" value=\"x\"></input> <span>Yes. The DV is called GroupAssignment and it is continuous</span></label></div>\n\n\n#### Assumption 2: Data are independent {.unnumbered} \n\nEach observation in the dataset has to be independent, meaning the value of one observation does not affect the value of any other. Answer: <select class='webex-select'><option value='blank'></option><option value='answer'>yes</option><option value='x'>no</option></select>\n\n#### Assumption 3: Homoscedasticity (homogeneity of variance) {.unnumbered} \n\nI've computed Levene's test below. How do you interpret the output?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nleveneTest(Flourishing_post ~ GroupAssignment, data = dog_independent)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|      |  Df|   F value|    Pr(>F)|\n|:-----|---:|---------:|---------:|\n|group |   1| 0.7111707| 0.4001329|\n|      | 187|        NA|        NA|\n\n</div>\n:::\n:::\n\n\n\nAnswer: <div class='webex-radiogroup' id='radio_WPJKBZHHGD'><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_WPJKBZHHGD\" value=\"x\"></input> <span>The p-value of Levene&apos;s test is significant, therefore we conclude that there is a difference between the variances in the population.</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_WPJKBZHHGD\" value=\"x\"></input> <span>The p-value of Levene&apos;s test is non-significant, therefore we conclude that there is a difference between the variances in the population.</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_WPJKBZHHGD\" value=\"x\"></input> <span>The p-value of Levene&apos;s test is significant, therefore we conclude that the variances in the population are equal.</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_WPJKBZHHGD\" value=\"answer\"></input> <span>The p-value of Levene&apos;s test is non-significant, therefore we conclude that the variances in the population are equal.</span></label></div>\n\n\n#### Assumption 4: DV should be approximately normally distributed {.unnumbered}\n\nLooking at the violin-boxplot below, are both groups normally distributed?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(dog_independent, aes(x = GroupAssignment, y = Flourishing_post, fill = GroupAssignment)) +\n  geom_violin(alpha = 0.4) +\n  geom_boxplot(width = 0.3, alpha = 0.8) +\n  scale_fill_viridis_d(option = \"cividis\", guide = \"none\") +\n  theme_classic() +\n  labs(x = \"Group\", y = \"Psychological well-being (post-intervention)\")\n```\n\n::: {.cell-output-display}\n![](pc-A07_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n\nAnswer:\n\n<div class='webex-radiogroup' id='radio_ANZMJAXQEE'><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_ANZMJAXQEE\" value=\"x\"></input> <span>yes, both groups are normally distributed</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_ANZMJAXQEE\" value=\"answer\"></input> <span>no, both groups are sightly skewed</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_ANZMJAXQEE\" value=\"x\"></input> <span>no, both groups are extremely skewed</span></label></div>\n\n\n#### Conclusion from assumption tests {.unnumbered}\n\nWith all assumptions tested, which statistical test would you recommend for this analysis?\n\n\n\nAnswer: <div class='webex-radiogroup' id='radio_HHTWWZEHOA'><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_HHTWWZEHOA\" value=\"x\"></input> <span>All assumptions held. We will conduct a Student two-sample t-test.</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_HHTWWZEHOA\" value=\"answer\"></input> <span>The assumption of normality was violated. We will conduct a Welch two-sample t-test because it has been shown to be robust to slight deviations from normality (Delacre et al., 2017).</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_HHTWWZEHOA\" value=\"x\"></input> <span>The assumptions of normality and homoscedasticity were violated. Therefore, we will conduct a non-parametric test.</span></label></div>\n\n\n\n## Task 7: Computing a two-sample t-test with effect size & interpret the output {.unnumbered}\n\n* **Step 1**: Compute the Welch two-sample t-test. The structure of the function is as follows:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nt.test(DV ~ IV, data = your_dataframe, var.equal = FALSE, alternative = \"two.sided\")\n```\n:::\n\n\n\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nt.test(Flourishing_post ~ GroupAssignment, data = dog_independent, var.equal = FALSE, alternative = \"two.sided\")\n```\n:::\n\n\n\n\n:::\n\n\n* **Step 2**: Calculate an effect size\n\nCalculate Cohen's D. The structure of the function is as follows:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncohensD(DV ~ IV, data = your_dataframe, method = \"unequal\")\n```\n:::\n\n\n\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncohensD(Flourishing_post ~ GroupAssignment, data = dog_independent, method = \"unequal\")\n```\n:::\n\n\n\n\n:::\n\n\n* **Step 3**: Interpreting the output\n\nBelow are the outputs for the **descriptive statistics** (table), **Welch t-test** (main output), and **Cohen’s D** (last line starting with [1]). Based on these, write up the results in APA style and provide an interpretation.\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|GroupAssignment |  n| mean_Flourishing| sd_Flourishing|\n|:---------------|--:|----------------:|--------------:|\n|Control         | 94|         5.718085|      0.7709738|\n|Direct          | 95|         5.776316|      0.8638912|\n\n</div>\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tWelch Two Sample t-test\n\ndata:  Flourishing_post by GroupAssignment\nt = -0.48902, df = 185.05, p-value = 0.6254\nalternative hypothesis: true difference in means between group Control and group Direct is not equal to 0\n95 percent confidence interval:\n -0.2931533  0.1766920\nsample estimates:\nmean in group Control  mean in group Direct \n             5.718085              5.776316 \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.0711213\n```\n\n\n:::\n:::\n\n\n\n\n\nThe Welch two-sample t-test revealed that there is <select class='webex-select'><option value='blank'></option><option value='x'>a statistically significant difference</option><option value='answer'>no statistically significant difference</option></select> in psychological well-being scores between direct (*N* = <input class='webex-solveme nospaces' size='2' data-answer='[\"95\"]'/>, *M* = <input class='webex-solveme nospaces' size='4' data-answer='[\"5.78\"]'/>, *SD* = <input class='webex-solveme nospaces' size='4' data-answer='[\"0.86\"]'/>) and control group (*N* = <input class='webex-solveme nospaces' size='2' data-answer='[\"94\"]'/>, *M* = <input class='webex-solveme nospaces' size='4' data-answer='[\"5.72\"]'/>, *SD* = <input class='webex-solveme nospaces' size='4' data-answer='[\"0.77\"]'/>), *t*(<input class='webex-solveme nospaces' size='6' data-answer='[\"185.05\"]'/>) = <input class='webex-solveme nospaces' size='4' data-answer='[\"0.49\"]'/>, *p* = <input class='webex-solveme nospaces' size='4' data-answer='[\".625\"]'/>, *d* = <input class='webex-solveme nospaces' size='4' data-answer='[\"0.07\"]'/>. The strength of the association between the variables is considered <select class='webex-select'><option value='blank'></option><option value='answer'>small</option><option value='x'>medium</option><option value='x'>large</option></select>. We therefore <select class='webex-select'><option value='blank'></option><option value='answer'>fail to reject the null hypothesis</option><option value='x'>reject the null hypothesis in favour of H1</option></select>.\n\n",
    "supporting": [
      "pc-A07_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}