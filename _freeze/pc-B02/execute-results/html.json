{
  "hash": "46d8effa793fae6c6bf8a08c0f7adb5e",
  "result": {
    "engine": "knitr",
    "markdown": "# 2B Lab 2 Week 3  {.unnumbered}\n\n\n\n\n\n\n\n\n\n\n**This is the pair coding activity related to @sec-cor.**\n\n\n## Task 1: Open the R project for the lab {.unnumbered}\n\n## Task 2: Create a new `.Rmd` file {.unnumbered}\n\n... and name it something useful. If you need help, have a look at @sec-rmd.\n\n## Task 3: Load in the library and read in the data {.unnumbered}\n\nThe data should already be in your project folder. If you want a fresh copy, you can download the data again here: [data_pair_coding](data/data_pair_coding.zip \"download\").\n\nWe are using the packages `tidyverse` and `correlation` today.\nIf you have already worked through this chapter, you will have all the packages installed. If you have yet to complete @sec-cor, you will need to install the package `correlation` (see @sec-install_packages for guidance if needed).\n\nWe also need to read in `dog_data_clean_wide.csv`. Again, I've named my data object `dog_data_wide` to shorten the name but feel free to use whatever object name sounds intuitive to you. \n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n## Task 4: Tidy data & Selecting variables of interest {.unnumbered}\n\n**Step 1:** Select the variables of interest. We need 2 continuous variables today, so any of the pre- vs post-test comparison will do. I would suggest happiness ratings (i.e., `SHS_pre`, `SHS_post`). Also keep the participant id `RID`. Store them in a new data object called `dog_happy`. \n\n**Step 2:** Check for missing values and remove participants with missing in either pre- or post-ratings.\n\n**Step 3:** Convert participant ID into a factor\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution for Tasks 3 and 4\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Task 3\nlibrary(tidyverse)\nlibrary(correlation)\n\ndog_data_wide <- read_csv(\"dog_data_clean_wide.csv\")\n\n\n## Task 4\ndog_happy <- dog_data_wide %>%\n  # Step 1\n  select(RID, SHS_pre, SHS_post) %>% \n  # Step 2\n  drop_na() %>% \n  # Step 3\n  mutate(RID = factor(RID))\n```\n:::\n\n\n\n\n:::\n\n## Task 5: Re-create the scatterplot below {.unnumbered}\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](pc-B02_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(dog_happy, aes(x = SHS_pre, y = SHS_post)) +\n  geom_point() +\n  geom_smooth(method = \"lm\")\n```\n:::\n\n\n\n:::\n\n## Task 6: Assumptions check {.unnumbered}\n\nWe can either do the assumption check by looking at the scatterplot above or we can run the code `plot(lm(SHS_pre~SHS_post, data = dog_happy))` and assess the assumptions there. Either way, it should give you similar responses.\n\n* Linearity: a <select class='webex-select'><option value='blank'></option><option value='x'>non-linear</option><option value='answer'>linear</option></select> relationship\n* Normality: residuals are <select class='webex-select'><option value='blank'></option><option value='answer'>approximately normally distributed</option><option value='x'>not normally distributed</option></select>\n* Homoscedasticity: There is <div class='webex-radiogroup' id='radio_XGFSZLSLRG'><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_XGFSZLSLRG\" value=\"answer\"></input> <span>homoscedasticity as there is no distinct pattern in the residuals</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_XGFSZLSLRG\" value=\"x\"></input> <span>heteroscedasticity as the residuals show a distinct pattern</span></label></div>\n\n* Outliers: <select class='webex-select'><option value='blank'></option><option value='x'>the data has some outliers</option><option value='answer'>the data does not have any clear outliers</option></select>\n\n\n\n**What is your conclusion from the assumptions check?**\n\n<div class='webex-radiogroup' id='radio_XKDITDIIOV'><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_XKDITDIIOV\" value=\"answer\"></input> <span>All assumptions hold. Therefore, we are conducting a parametric test, specifically Pearson’s correlation.</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_XKDITDIIOV\" value=\"x\"></input> <span>Some assumptions are violated. Therefore, we are conducting a non-parametric test, specifically Spearman’s correlation.</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_XKDITDIIOV\" value=\"x\"></input> <span>All assumptions are violated. Therefore, we are conducting a non-parametric test, specifically Spearman’s correlation.</span></label></div>\n\n\n\n\n## Task 7: Compute a Pearson correlation & interpret the output {.unnumbered}\n\n* **Step 1**: Compute the Pearson correlation. The structure of the function is as follows:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncorrelation(data = your_dataframe,\n            select = \"variable1\",\n            select2 = \"variable2\",\n            method = \"Pearson\",\n            alternative = \"two.sided\")\n```\n:::\n\n\n\n\nThe default method argument is Pearson, but if you thought any of the assumptions were violated and conduct a Spearman correlation instead, change the `method` argument to\"Spearman\".\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncorrelation(data = dog_happy,\n            select = \"SHS_pre\",\n            select2 = \"SHS_post\",\n            method = \"Pearson\",\n            alternative = \"two.sided\")\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|Parameter1 |Parameter2 |         r|   CI|   CI_low|   CI_high|        t| df_error|  p|Method              | n_Obs|\n|:----------|:----------|---------:|----:|--------:|---------:|--------:|--------:|--:|:-------------------|-----:|\n|SHS_pre    |SHS_post   | 0.8842169| 0.95| 0.855856| 0.9072765| 31.73394|      281|  0|Pearson correlation |   283|\n\n</div>\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# alternative because there are only 2 numeric columns in `dog_happy`\ncorrelation(dog_happy)\n```\n:::\n\n\n\n:::\n\n\n\n* **Step 2**: Interpret the output\n\n\nA Pearson correlation revealed a <select class='webex-select'><option value='blank'></option><option value='answer'>strong</option><option value='x'>moderately strong</option><option value='x'>weak</option></select>, <select class='webex-select'><option value='blank'></option><option value='answer'>positive</option><option value='x'>negative</option></select>, and statistically <select class='webex-select'><option value='blank'></option><option value='answer'>significant</option><option value='x'>non-significant</option></select> relationship between happiness before and after the dog intervention, *r*(<input class='webex-solveme nospaces' size='3' data-answer='[\"281\"]'/>) = <input class='webex-solveme nospaces' size='4' data-answer='[\".88\",\".884\"]'/>, *p* <input class='webex-solveme nospaces' size='6' data-answer='[\"<.001\",\"< .001\"]'/>, *95% CI* = [<input class='webex-solveme nospaces' size='4' data-answer='[\".86\",\".856\"]'/>, <input class='webex-solveme nospaces' size='4' data-answer='[\".91\",\".907\"]'/>]. We therefore <select class='webex-select'><option value='blank'></option><option value='x'>fail to reject the null hypothesis</option><option value='answer'>reject the null hypothesis in favour of H1</option></select>.\n\n::: {.callout-important}\nIn the write-up paragraph above, the open fields accepted answers with 2 or 3 decimal places as correct. However, in your reports, ensure that correlation values are reported with 3 decimal places.\n:::\n\n",
    "supporting": [
      "pc-B02_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}