{
  "hash": "7af084961aa68e0a995281d5819cccbb",
  "result": {
    "markdown": "# 2B Lab 1 Week 2  {.unnumbered}\n\n\n\n\n\n\n**This is the pair coding activity related to @sec-paired.**\n\n\n\n## Task 1: Open the R project for the lab {.unnumbered}\n\n## Task 2: Create a new `.Rmd` file {.unnumbered}\n\n... and name it something useful. If you need help, have a look at @sec-rmd.\n\n## Task 3: Load in the library and read in the data {.unnumbered}\n\nThe data should already be in your project folder. If you want a fresh copy, you can download the data again here: [data_pair_coding](data/data_pair_coding.zip \"download\").\n\nWe are using the packages `rstatix`, `tidyverse`, `qqplotr`, `lsr` today.\nMake sure to load `rstatix` in before `tidyverse`.\n\nWe also need to read in `dog_data_clean_wide.csv`. Again, I've named my data object `dog_data_wide` to shorten the name but feel free to use whatever object name sounds intuitive to you. \n\nFor the plot, we will need the data in long format. We can either read in `dog_data_clean_long.csv` to take a shortcut, or wrangle the data from `dog_data_wide`. I've taken the shortcut and named my data object `dog_data_long`.\n\n\n\n\n::: {.cell}\n\n:::\n\n\n## Task 4: Tidy data for a paired t-test {.unnumbered}\n\nNot much tidying to do for today. \n\nPick a variable of interest and select the pre- and post-scores, and calculate the difference score. Store them in a separate data object with a meaningful name.\n\nI will use Loneliness as an example and call my data object `dog_lonely`. Regardless of your chosen variable, your data object should look like/ similar to the table below. \n\n\n::: {.cell}\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| RID| Loneliness_pre| Loneliness_post| Loneliness_diff|\n|---:|--------------:|---------------:|---------------:|\n|   1|           2.25|            1.70|           -0.55|\n|   2|           1.90|            1.60|           -0.30|\n|   3|           2.25|            2.25|            0.00|\n|   4|           1.75|            2.05|            0.30|\n|   5|           2.85|            2.70|           -0.15|\n\n</div>\n:::\n:::\n\n\nIn `dog_data_long`, we want to turn `Stage` into a factor so we can re-order the labels (i.e., \"pre\" before \"post\").\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution for Tasks 3 and 4\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Task 3\nlibrary(rstatix)\nlibrary(tidyverse)\nlibrary(lsr)\n\ndog_data_wide <- read_csv(\"data/dog_data_clean_wide.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 284 Columns: 24\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (3): GroupAssignment, Year_of_Study, Live_Pets\ndbl (21): RID, Age_Yrs, Consumer_BARK, Flourishing_pre, Flourishing_post, PA...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\ndog_data_long <- read_csv(\"data/dog_data_clean_long.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 568 Columns: 16\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (4): GroupAssignment, Year_of_Study, Live_Pets, Stage\ndbl (12): RID, Age_Yrs, Consumer_BARK, Flourishing, PANAS_PA, PANAS_NA, SHS,...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\n## Task 4\ndog_lonely <- dog_data_wide %>% \n  select(RID, Loneliness_pre, Loneliness_post) %>% \n  mutate(Loneliness_diff = Loneliness_post - Loneliness_pre)\n\ndog_data_long <- dog_data_long %>% \n  mutate(Stage = factor(Stage,\n                        levels = c(\"pre\", \"post\")))\n```\n:::\n\n\n\n:::\n\n## Task 5: Compute descriptives {.unnumbered}\n\nWe want to determine the mean and sd of:\n\n* the pre-scores\n* the post-scores, and\n* the difference scores\n\nStore them in a data object called `descriptives`.\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndescriptives <- dog_lonely %>% \n  summarise(mean_pre = mean(Loneliness_pre),\n            sd_pre = sd(Loneliness_pre),\n            mean_post = mean(Loneliness_post),\n            sd_post = sd(Loneliness_post),\n            diff = mean(Loneliness_diff),\n            sd_diff = sd(Loneliness_diff))\n```\n:::\n\n\n:::\n\n\n## Task 6: Check assumptions {.unnumbered}\n\n\n#### Assumption 1: Continuous DV {.unnumbered} \n\nIs the dependent variable (DV) continuous? Answer: <div class='webex-radiogroup' id='radio_TWDOTVXTVU'><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_TWDOTVXTVU\" value=\"answer\"></input> <span>Yes. The DV is the difference in loneliness scores and it is continuous</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_TWDOTVXTVU\" value=\"x\"></input> <span>No. The DV is the pre- and post-stages and it is categorical</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_TWDOTVXTVU\" value=\"x\"></input> <span>No. The DV is the difference in loneliness scores but it is categorical</span></label></div>\n\n\n\n#### Assumption 2: Data are independent {.unnumbered} \n\nEach pair of values in the dataset has to be independent, meaning each pair of values needs to be from a separate participant. Answer: <select class='webex-select'><option value='blank'></option><option value='answer'>yes</option><option value='x'>no</option></select>\n\n#### Assumption 3: Normality {.unnumbered}\n\nLooking at the violin-boxplots below, do you think the assumption of normality holds?\n\n::: {.callout-note}\nThe axis label of Plot 2 turned out to be quite long here. I've used the escape character `\\n` to break it up across 2 lines.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Plot 1\nggplot(dog_data_long, aes(x = Stage, y = Loneliness, fill = Stage)) +\n  geom_violin(alpha = 0.5) +\n  geom_boxplot(width = 0.4, alpha = 0.8) +\n  scale_fill_viridis_d(guide = \"none\") +\n  theme_classic() +\n  labs(x = \"Time point\", y = \"mean Loneliness Scores\")\n\n## Plot 2\nggplot(dog_lonely, aes(x = \"\", y = Loneliness_diff)) +\n  geom_violin(fill = \"#21908C\", alpha = 0.5) +\n  geom_boxplot(fill = \"#21908C\", width = 0.4) +\n  theme_classic() +\n  labs(x = \"\",\n       y = \"Difference in mean Loneliness scores \\nbetween pre- and post- intervention\") # \\n forces a manual line break in the axis label\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![Plots displayed to assess normality assumption](pc-B01_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n\n\nAnswer:\n\n<div class='webex-radiogroup' id='radio_LJXRECWOPM'><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_LJXRECWOPM\" value=\"x\"></input> <span>yes, because both pre- and post-scores in Plot 1 are approximately normally distributed</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_LJXRECWOPM\" value=\"answer\"></input> <span>yes, because the difference scores in Plot 2 are approximately normally distributed</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_LJXRECWOPM\" value=\"x\"></input> <span>no, because both pre- and post-scores in Plot 1 are extremely skewed</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_LJXRECWOPM\" value=\"x\"></input> <span>no, because the difference scores in Plot 2 are extremely skewed</span></label></div>\n\n\n#### Conclusion from assumption tests {.unnumbered}\n\nWith all assumptions tested, which statistical test would you recommend for this analysis?\n\nAnswer: <div class='webex-radiogroup' id='radio_WPIUQGXTJH'><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_WPIUQGXTJH\" value=\"answer\"></input> <span>All assumptions held. We will conduct a paired-samples t-test.</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_WPIUQGXTJH\" value=\"x\"></input> <span>The assumption of normality was violated. We will conduct a Wilcoxon signed-rank test.</span></label></div>\n\n\n\n\n## Task 7: Computing a paired-sample t-test with effect size & interpret the output {.unnumbered}\n\n\n* **Step 1**: Compute the paired-sample t-test. The structure of the function is as follows:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nt.test(your_data$var1, your_data$var2, paired = TRUE)\n```\n:::\n\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n\n::: {.cell}\n\n```{.r .cell-code}\nt.test(dog_lonely$Loneliness_pre, dog_lonely$Loneliness_post, paired = TRUE)\n```\n:::\n\n\n:::\n\n\n* **Step 2**: Calculate an effect size\n\nCalculate Cohen's D. The structure of the function is as follows:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncohensD(your_data$var1, your_data$var2, method = \"paired\")\n```\n:::\n\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncohensD(dog_lonely$Loneliness_pre, dog_lonely$Loneliness_post, method = \"paired\")\n```\n:::\n\n\n:::\n\n\n* **Step 3**: Interpreting the output\n\nBelow are the outputs for the **descriptive statistics** (table), **paired-samples t-test** (main output), and **Cohen’s D** (last line starting with [1]). Based on these, write up the results in APA style and provide an interpretation.\n\n\n::: {.cell}\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| mean_pre|    sd_pre| mean_post|   sd_post|       diff|   sd_diff|\n|--------:|---------:|---------:|---------:|----------:|---------:|\n| 2.040187| 0.5304488|  1.914298| 0.5344914| -0.1258895| 0.2290269|\n\n</div>\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tPaired t-test\n\ndata:  dog_lonely$Loneliness_pre and dog_lonely$Loneliness_post\nt = 9.2632, df = 283, p-value < 2.2e-16\nalternative hypothesis: true mean difference is not equal to 0\n95 percent confidence interval:\n 0.09913876 0.15264034\nsample estimates:\nmean difference \n      0.1258895 \n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.5496716\n```\n:::\n:::\n\n\nWe hypothesised that there would be a significant difference between Loneliness measured before (*M* = <input class='webex-solveme nospaces' size='4' data-answer='[\"2.04\"]'/>, *SD* = <input class='webex-solveme nospaces' size='4' data-answer='[\"0.53\"]'/>) and after (*M* = <input class='webex-solveme nospaces' size='4' data-answer='[\"1.91\"]'/>, *SD* = <input class='webex-solveme nospaces' size='4' data-answer='[\"0.53\"]'/>) the dog intervention. On average, participants felt less lonely after the intervention (*M~diff~* = <input class='webex-solveme nospaces' size='4' data-answer='[\"0.13\"]'/>, *SD~diff~* = <input class='webex-solveme nospaces' size='4' data-answer='[\"0.23\"]'/>). \nUsing a paired-samples t-test, the effect was found to be <select class='webex-select'><option value='blank'></option><option value='answer'>significant</option><option value='x'>non-significant</option></select> and of a <select class='webex-select'><option value='blank'></option><option value='answer'>small</option><option value='x'>medium</option><option value='x'>large</option></select> magnitude, *t*(<input class='webex-solveme nospaces' size='3' data-answer='[\"283\"]'/>) = <input class='webex-solveme nospaces' size='4' data-answer='[\"9.26\"]'/>, *p* <input class='webex-solveme nospaces' size='6' data-answer='[\"< .001\"]'/>, *d* = <input class='webex-solveme nospaces' size='4' data-answer='[\"0.55\"]'/>. We therefore <select class='webex-select'><option value='blank'></option><option value='x'>fail to reject the null hypothesis</option><option value='answer'>reject the null hypothesis in favour of H1</option></select>.\n\n",
    "supporting": [
      "pc-B01_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}